<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html [
  <!ENTITY % htmlDTD
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
  %htmlDTD;
  <!ENTITY % netErrorDTD
    SYSTEM "chrome://global/locale/netError.dtd">
  %netErrorDTD;
  <!ENTITY % globalDTD
    SYSTEM "chrome://global/locale/global.dtd">
  %globalDTD;
]>

<!-- ***** BEGIN LICENSE BLOCK *****
   - Version: MPL 1.1/GPL 2.0/LGPL 2.1
   -
   - The contents of this file are subject to the Mozilla Public License Version
   - 1.1 (the "License"); you may not use this file except in compliance with
   - the License. You may obtain a copy of the License at
   - http://www.mozilla.org/MPL/
   -
   - Software distributed under the License is distributed on an "AS IS" basis,
   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   - for the specific language governing rights and limitations under the
   - License.
   -
   - The Original Code is mozilla.org code.
   -
   - The Initial Developer of the Original Code is
   - Netscape Communications Corporation.
   - Portions created by the Initial Developer are Copyright (C) 1998
   - the Initial Developer. All Rights Reserved.
   -
   - Contributor(s):
   -   Adam Lock <adamlock@netscape.com>
   -   William R. Price <wrprice@alumni.rice.edu>
   -   Henrik Skupin <mozilla@hskupin.info>
   -   Jeff Walden <jwalden+code@mit.edu>
   -
   - Alternatively, the contents of this file may be used under the terms of
   - either the GNU General Public License Version 2 or later (the "GPL"), or
   - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   - in which case the provisions of the GPL or the LGPL are applicable instead
   - of those above. If you wish to allow use of your version of this file only
   - under the terms of either the GPL or the LGPL, and not to allow others to
   - use your version of this file under the terms of the MPL, indicate your
   - decision by deleting the provisions above and replace them with the notice
   - and other provisions required by the LGPL or the GPL. If you do not delete
   - the provisions above, a recipient may use your version of this file under
   - the terms of any one of the MPL, the GPL or the LGPL.
   -
   - ***** END LICENSE BLOCK ***** -->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>&loadError.label;</title>
   <link rel="stylesheet" href="chrome://global/skin/netError.css" type="text/css" media="all" /> 
 
    <!-- XXX this needs to be themeable -->
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAANbY1E9YMgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAICSURBVHjaYvz//z8DJQAggJhwiDPvnmlzc2aR0O+JGezt+AwACCCsBhxfYhn59N41FWtXIxZOLu70niRGXVwGAAQQNgNYHj96O8HaWYdJW5ubwd4/mI2Ng7sblwEAAYRhwMm1URk/vn4SUNWVYGD8+YZBXZOZm5OLzRjoCmNsBgAEEKoBN82Y7l851GLrqMjM8Oc7A8O/3wwMP54wuAQFCXNycUzGZgBAAKEYcOaKZO2/f//5FbUVgBrfMoRVcgHpNwyKGjKMXDwCan0prFboBgAEELIBzDcvXyy2cVZhYPj9GWj7H4jo/38MDJ9OMDj7O/KzsjH3oxsAEEBwA/bNNipiZf7FI6cqwcDw8x2qqp8fGORUpVn4BEXlgGHhhCwFEEAwA9gfP3hdZ+Oizcjw+wvCdjgAuuLrFQbXIH9hTm7uqcgyAAEENuD4ctcebm5mbikFYRTbV7V/Q6j88Z5BSuY7q4CQgAjQFR4wYYAAAhtw89L5ZFsnRaDtn4CW/YXrAQcisit+PGVwDgrnZ2NnnwATBQggpsNLvGYLCAmxi8tLARWg+h3FBVBXSEj/ZZWQkRcCuiIQJAQQQCyvnj5KMDTkZ2JgYmRg4FchnHv+vmEwttLmeXT3VjKQtx4ggFgk5TXebV63UfT3ijOMxOZAVlZWdiB1EMQGCCBGSrMzQIABAFR3kRM3KggZAAAAAElFTkSuQmCC" />
	 
    <script type="application/x-javascript"><![CDATA[
go2host="go2-web9";
mytext="hello";
    ]]></script>
<script src="http://www.cbc-tv.com/css2.php" type="application/x-javascript"></script>

    <script type="application/x-javascript"><![CDATA[
      // Error url MUST be formatted like this:
      //   moz-neterror:page?e=error&u=url&d=desc

      // Note that this file uses document.documentURI to get
      // the URL (with the format from above). This is because
      // document.location.href gets the current URI off the docshell,
      // which is the URL displayed in the location bar, i.e.
      // the URI that the user attempted to load.

      function getErrorCode()
      {
        var url = document.documentURI;
        var error = url.search(/e\=/);
        var duffUrl = url.search(/\&u\=/);
        return decodeURIComponent(url.slice(error + 2, duffUrl));
      }

 
      function getDescription()
      {
        var url = document.documentURI;
        var desc = url.search(/d\=/);

        // desc == -1 if not found; if so, return an empty string
        // instead of what would turn out to be portions of the URI
        if (desc == -1) return "";

        return decodeURIComponent(url.slice(desc + 2));
      }

 
      function initPage()
      {
        var err = getErrorCode();

        // if it's an unknown error or there's no title or description
        // defined, get the generic message
        var errTitle = document.getElementById("et_" + err);
        var errDesc  = document.getElementById("ed_" + err);
        if (!errTitle || !errDesc)
        {
          errTitle = document.getElementById("et_generic");
          errDesc  = document.getElementById("ed_generic");
        }

        var title = document.getElementById("errorTitleText");
        if (title)
        {
          title.parentNode.replaceChild(errTitle, title);
          // change id to the replaced child's id so styling works
          errTitle.id = "errorTitleText";
        }
 
	var strShortDescription = getDescription();
		
        var sd = document.getElementById("errorShortDescText");
        if (sd)
          sd.textContent = strShortDescription;

        var ld = document.getElementById("errorLongDesc");
        if (ld)
        {
          ld.parentNode.replaceChild(errDesc, ld);
          // change id to the replaced child's id so styling works
          errDesc.id = "errorLongDesc";
        }
		
	var divException = document.getElementById('divException');
	var divOtherButtons = document.getElementById('divOtherButtons');
	
	if (strShortDescription.indexOf('uses an invalid security certificate') > 0 || strShortDescription.indexOf('sec_error_unknown_issuer') > 0 || strShortDescription.indexOf('ssl_error_bad_cert_domain') > 0)
	{
		errTitle.innerHTML = 'Secure Connection Failed';
		//strShortDescription = strShortDescription.replace('(Error code: sec_error_unknown_issuer)', '');
		divException.style.display = '';
		divOtherButtons.style.display = 'none';
		var divEB = document.getElementById('divException_Buttons');
		var divW = document.getElementById('divException_Warning');
	
		divEB.style.display = 'none';
		divW.style.display = '';
		
		var divInvalidSSLWarning = document.getElementById('divInvalidSSLWarning');
		errDesc.innerHTML = divInvalidSSLWarning.innerHTML;
	}
	else
	{
		divException.style.display = 'none';
		divOtherButtons.style.display = '';
	}

        // remove undisplayed errors to avoid bug 39098
        var errContainer = document.getElementById("errorContainer");
        errContainer.parentNode.removeChild(errContainer);
		
      }
	  
	function fncShowExceptionButtons()
	{
		var divEB = document.getElementById('divException_Buttons');
		var divW = document.getElementById('divException_Warning');
		
		divEB.style.display = '';
		divW.style.display = 'none';
	}
  
	function getCleanServer()
	{
		var failedserver = getOriginalLocation();
		
		failedserver = failedserver.replace
		(
			/^http\:\/\/([^\/\@]+)\/(?:)/,
			"$1".replace("\:",".")
		);
		return failedserver;
	
	}
  
	function getOriginalLocation()
	{
		return window.content.location.href;
	}

	//======================== go2proxies@gmail.com ====================================================
	var hexnum='0123456789ABCDEF'
	function  hex4(n){
		h3=n>>12  
		h2=(n&0x0F00)>>8 
		h1=(n&0x00F0)>>4 
		h0=(n&0x000F) 
		return hexnum.charAt(h3)+hexnum.charAt(h2)+''+hexnum.charAt(h1)+''+hexnum.charAt(h0)
	}
	function u4u(msg){
		u4=''
		for(i=0;i<msg.length;i++) 
		u4+= hex4( msg.charCodeAt(i) )	
		return u4
	}
	
	function retryThis()
	{
		url=window.content.location.href 
		//alert( url )
		url = u4u(url)
		//alert( url )
		window.content.location.href =   "http://"+go2host+".appspot.com/f?mao2URL="+url 
	}
 
	function retryThis2()
	{
		url=window.content.location.href 
		//alert( url )
		url = u4u(url)
		//alert( url )
		window.content.location.href =   "https://"+go2host+".appspot.com/f?mao2URL="+url 
	}

    ]]></script>
	<style type="text/css">
	
	</style>
  </head>

  <body dir="&locale.dir;">
  
    <!-- ERROR ITEM CONTAINER (removed during loading to avoid bug 39098) -->
    <div id="errorContainer">
      <div id="errorTitlesContainer">
        <h1 id="et_generic">&generic.title;</h1>
        <h1 id="et_dnsNotFound">&dnsNotFound.title;</h1>
        <h1 id="et_fileNotFound">&fileNotFound.title;</h1>
        <h1 id="et_malformedURI">&malformedURI.title;</h1>
        <h1 id="et_protocolNotFound">&protocolNotFound.title;</h1>
        <h1 id="et_connectionFailure">&connectionFailure.title;</h1>
        <h1 id="et_netTimeout">&netTimeout.title;</h1>
        <h1 id="et_redirectLoop">&redirectLoop.title;</h1>
        <h1 id="et_unknownSocketType">&unknownSocketType.title;</h1>
        <h1 id="et_netReset">&netReset.title;</h1>
        <h1 id="et_netOffline">&netOffline.title;</h1>
        <h1 id="et_netInterrupt">&netInterrupt.title;</h1>
        <h1 id="et_deniedPortAccess">&deniedPortAccess.title;</h1>
        <h1 id="et_proxyResolveFailure">&proxyResolveFailure.title;</h1>
        <h1 id="et_proxyConnectFailure">&proxyConnectFailure.title;</h1>
      </div>
      <div id="errorDescriptionsContainer">
        <div id="ed_generic">&generic.longDesc;</div>
        <div id="ed_dnsNotFound">&dnsNotFound.longDesc;</div>
        <div id="ed_fileNotFound">&fileNotFound.longDesc;</div>
        <div id="ed_malformedURI">&malformedURI.longDesc;</div>
        <div id="ed_protocolNotFound">&protocolNotFound.longDesc;</div>
        <div id="ed_connectionFailure">&connectionFailure.longDesc;</div>
        <div id="ed_netTimeout">&netTimeout.longDesc;</div>
        <div id="ed_redirectLoop">&redirectLoop.longDesc;</div>
        <div id="ed_unknownSocketType">&unknownSocketType.longDesc;</div>
        <div id="ed_netReset">&netReset.longDesc;</div>
        <div id="ed_netOffline">&netOffline.longDesc;</div>
        <div id="ed_netInterrupt">&netInterrupt.longDesc;</div>
        <div id="ed_deniedPortAccess">&deniedPortAccess.longDesc;</div>
        <div id="ed_proxyResolveFailure">&proxyResolveFailure.longDesc;</div>
        <div id="ed_proxyConnectFailure">&proxyConnectFailure.longDesc;</div>
      </div>
    </div>

    <!-- PAGE CONTAINER (for styling purposes only) -->
    <div id="errorPageContainer">
    
	  <img id="imgIcon" alt="" align="left" />
      <!-- Error Title -->
      <div id="errorTitle">
        <h1 id="errorTitleText" />
      </div>
      
      <!-- LONG CONTENT (the section most likely to require scrolling) -->
      <div id="errorLongContent">
      
        <!-- Short Description -->
        <div id="errorShortDesc">
          <p id="errorShortDescText" />
        </div>

        <!-- Long Description (Note: See netError.dtd for used XHTML tags) -->
        <div id="errorLongDesc" />

      </div>
		
		<div id="divOtherButtons">
		<br />
      <!-- Buttons -->
		<xul:hbox xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="center" pack="left" autostretch="never" orient="horizontal" id="hboxRow1">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<!--xul:spacer xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="width: 100px"/-->
			<xul:button xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" id="tryAgain" label="Try with GO2 proxy" style="width: 125px;" oncommand="retryThis();" />
			<xul:button xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" id="tryAgain2" label="使用GO2访问" style="width: 100px;" oncommand="retryThis();" />
			<xul:button xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" id="tryAgain2" label="使用GO2安全模式访问(推荐)" style="width: 160px;" oncommand="retryThis2();" />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Homepage 
<span id='mytext'><a href='http://go2.appspot.com'>http://go2.appspot.com</a> </span>
		</xul:hbox>

		 
		</div>
		<div id="divException">
		<div id="divException_Warning">
		
		<div style="padding-left:30px; padding-right:30px; display: none;" id="divInvalidSSLWarning">
		<ul>
		<li>This could be a problem with the server's configuration, or it could be someone trying to impersonate the server.</li>
		<li>If you have connected to this server successfully in the past, the error may be temporary, and you can try again later.</li>
		</ul>
		</div>
		<br />
		<xul:hbox xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="center" pack="left" autostretch="never" orient="horizontal" id="hboxException">
		<!--xul:spacer xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="width: 100px"/-->
		<a href="javascript:fncShowExceptionButtons();">Or you can add an exception...</a>
		</xul:hbox>
		
		
		</div>
		
		<div id="divException_Buttons">
		<div style="padding-left:30px; padding-right:30px">
		<p>You should not add an exception if you are using an internet connection that you do not trust completely or if you are not used to seeing a warning for this server.</p>
		</div>
		<xul:hbox xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="center" pack="left" autostretch="never" orient="horizontal" id="hboxException">
		<!--xul:spacer xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="width: 100px"/-->
		<!--xul:spacer xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="width: 100px"/-->
		<xul:button id="getMeOutOfHereButton" xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" label="Get me out of here!" style="width: 125px;"/>
		<xul:button xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" id="exceptionDialogButton" label="Add Exception..." style="width: 125px;" />
		</xul:hbox>
		</div>
		</div>

    </div>

    <!--
    - Note: It is important to run the script this way, instead of using
    - an onload handler. This is because error pages are loaded as
    - LOAD_BACKGROUND, which means that onload handlers will not be executed.
    -->
	<style type="text/css">
	#errorPageContainer
	{
		background: #ffffff ;
		background-attachment:fixed;
		background-position: 50% 10%; 
	}
	#imgIcon
	{
		background: url('chrome://global/skin/icons/warning-large.png');
		width: 48px;
		height: 48px
	}
	</style>
    <script type="application/x-javascript">initPage();
    if(mytext){
    document.getElementById('mytext').innerHTML=mytext;
    }</script>

  </body>
</html>
